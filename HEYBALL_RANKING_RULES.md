# ğŸ± Joy Billiards NZ Heyball æ®µä½èµ›è§„åˆ™ v2.0

## Joy Billiards NZ Heyball Ranking System v2.0

---

## ä¸€ã€èµ›äº‹ç›®æ ‡ / Purpose

**ä¸­æ–‡ï¼š**
- å»ºç«‹é•¿æœŸç¨³å®šçš„æ¯”èµ›ä½“ç³»ï¼Œå¸å¼•å›ºå®šå‚èµ›äººç¾¤
- é€šè¿‡ç§¯åˆ†ä¸æ®µä½æ™‹å‡ï¼Œæå‡å‚ä¸æ„Ÿä¸è£èª‰æ„Ÿ
- ä¿ƒè¿›çƒæˆ¿ç¤¾åŒºæ´»è·ƒåº¦å’Œç©å®¶æŠ€èƒ½æå‡

**English:**
- Establish a long-term stable competition system to attract regular participants
- Enhance engagement and sense of achievement through points and ranking promotions
- Promote venue community activity and player skill development

---

## äºŒã€æ®µä½è®¾è®¡ / Ranking Levels

| ä¸­æ–‡æ®µä½ | English Rank | å¾½ç«  | ç§¯åˆ†èŒƒå›´ Points |
|---------|-------------|------|----------------|
| åˆå­¦ | Beginner | âšª | 0â€“14 |
| è¿›é˜¶ | Intermediate | ğŸ”¸ | 15â€“39 |
| é«˜é˜¶ | Advance | ğŸ”º | 40â€“79 |
| é»„é‡‘ | Expert | ğŸ”¶ | 80â€“149 |
| ç²¾è‹± | Elite | ğŸ”· | 150â€“249 |
| å¤§å¸ˆ | Master | â­ | 250â€“349 |
| ç‰¹çº§å¤§å¸ˆ | Grand Master | ğŸŒŸ | 350â€“449 |
| èŒä¸šæ®µ | Pro Level | ğŸ’ | 450â€“549 |
| æ®¿å ‚ | Hall of Fame | ğŸ‘‘ | 550+ |

---

## ä¸‰ã€ç§¯åˆ†ç³»ç»Ÿ / Point System

### å‘¨èµ›ç§¯åˆ† / Weekly Match Points

| æˆç»© Result | ç§¯åˆ† Points |
|------------|------------|
| ğŸ† Champion å† å†› | +20 |
| ğŸ¥ˆ Runner-up äºšå†› | +15 |
| ğŸ¯ Top 4 å››å¼º | +10 |
| âš”ï¸ Top 8 å…«å¼º | +6 |
| âœ… Participation å‚èµ› | +3 |

### æ™‹å‡ä¸é™çº§ / Promotion & Demotion

- **æ™‹å‡ Promotionï¼š** ç§¯åˆ†è¾¾åˆ°é—¨æ§›è‡ªåŠ¨æ™‹å‡
- **é™çº§ Demotionï¼š** ç§¯åˆ†è·Œå›ä¸‹é™è‡ªåŠ¨é™çº§

### ä¸æ´»è·ƒæƒ©ç½š / Inactivity Penalty

- è¿ç»­ **4 å‘¨æœªå‚èµ›** â†’ **-20 åˆ†**
- Consecutive **4 weeks** without participation â†’ **-20 points**

### å¹´åº¦æ¸…é›¶ / Annual Reset

**æœºåˆ¶ Mechanism:**
- æ¯å¹´ 12 æœˆæœ€åä¸€åœºæ¯”èµ›åç§¯åˆ†æ¸…é›¶
- Points reset after the last match in December
- æ®µä½èº«ä»½ä¿ç•™ï¼Œæ–°èµ›å­£ä»è¯¥æ®µä½ä¸‹é™ç§¯åˆ†èµ·æ­¥
- Ranking level preserved, new season starts at that level's minimum points

**ç¤ºä¾‹ Example:**
- ä½ æ˜¯ Master (å¤§å¸ˆ) æ®µä½ï¼Œæœ‰ 320 åˆ†
- å¹´åº¦æ¸…é›¶åï¼šä»æ˜¯ Masterï¼Œä½†ç§¯åˆ†é‡ç½®ä¸º 250 åˆ†ï¼ˆMaster æœ€ä½åˆ†ï¼‰
- You're Master rank with 320 points
- After annual reset: Still Master, but points reset to 250 (Master minimum)

---

## å››ã€è®©å±€è§„åˆ™ / Handicap Rules

| æ®µä½å·® Rank Gap | è®©å±€ Frames |
|----------------|------------|
| 0â€“1 levels | 0 frames |
| 2â€“3 levels | 1 frame |
| 4â€“5 levels | 2 frames |
| 6+ levels | 3 frames |

**è¯´æ˜ Explanation:**
- Race to 5 çš„æ¯”èµ›ï¼Œè®© 3 å±€æ„å‘³ç€æ¯”åˆ†ä» 0:3 å¼€å±€
- In a Race to 5 match, 3 frames handicap means starting at 0:3

---

## äº”ã€ç§¯åˆ†ä¿®æ­£è§„åˆ™ / Adjustment Rules

### åŸºç¡€è§„åˆ™ / Base Rules

1. **ä½æ®µä½èƒœé«˜æ®µä½ï¼š** ç§¯åˆ†ç¿»å€ï¼ˆÃ—2ï¼‰
   - Lower rank beats higher rank: Points doubled (Ã—2)

2. **é«˜æ®µä½èƒœä½æ®µä½ï¼š** ç§¯åˆ†å‡åŠï¼ˆÃ·2ï¼Œå‘ä¸Šå–æ•´ï¼‰
   - Higher rank beats lower rank: Points halved (Ã·2, round up)

3. **åŒæ®µä½å¯¹é˜µï¼š** æ­£å¸¸ç§¯åˆ†
   - Same rank: Normal points

---

## å…­ã€å¯¹é˜µç¤ºä¾‹ / Match Examples

### ç¤ºä¾‹ 1 / Example 1

**å¯¹é˜µ Match:**
- Master (å¤§å¸ˆ) vs Intermediate (è¿›é˜¶)
- æ®µä½å·® = 6 levels

**è®©å±€ Handicap:**
- Race to 5, Master è®© 3 å±€
- Starting score: 0:3

**ç§¯åˆ† Points:**
- **Intermediate èƒœï¼š** 20 åˆ† (10Ã—2 ç¿»å€)
- **Master èƒœï¼š** 5 åˆ† (10Ã·2 å‡åŠ)

---

### ç¤ºä¾‹ 2 / Example 2

**å¯¹é˜µ Match:**
- Expert (é»„é‡‘) vs Advance (é«˜é˜¶)
- æ®µä½å·® = 2 levels

**è®©å±€ Handicap:**
- Race to 5, Expert è®© 1 å±€
- Starting score: 0:1

**ç§¯åˆ† Points:**
- **Advance èƒœï¼š** 20 åˆ† (10Ã—2 ç¿»å€)
- **Expert èƒœï¼š** 5 åˆ† (10Ã·2 å‡åŠ)

---

### ç¤ºä¾‹ 3 / Example 3

**å¯¹é˜µ Match:**
- Elite (ç²¾è‹±) vs Elite (ç²¾è‹±)
- æ®µä½å·® = 0 (ç›¸åŒæ®µä½)

**è®©å±€ Handicap:**
- Race to 5, æ— è®©å±€
- Starting score: 0:0

**ç§¯åˆ† Points:**
- **ä»»æ„ä¸€æ–¹èƒœï¼š** 10 åˆ†ï¼ˆæ­£å¸¸ç§¯åˆ†ï¼‰

---

## ä¸ƒã€æœˆæ¦œä¸å¹´æ¦œ / Monthly & Annual Rankings

### ğŸ“… æœˆæ¦œ Monthly Rankings

- **ç§¯åˆ†è®¡ç®—ï¼š** æ¯æœˆç´¯ç§¯çš„å‘¨èµ›ç§¯åˆ†
- **é‡ç½®æ—¶é—´ï¼š** æ¯æœˆ1æ—¥æ¸…é›¶
- **å¥–åŠ±ï¼š** æœˆå† å†›è·å¾—ç‰¹åˆ«å¥–åŠ±

### ğŸ… å¹´æ¦œ Annual Rankings

- **ç§¯åˆ†è®¡ç®—ï¼š** å…¨å¹´ç´¯ç§¯çš„å‘¨èµ›ç§¯åˆ†
- **é‡ç½®æ—¶é—´ï¼š** æ¯å¹´12æœˆ31æ—¥
- **æ®µä½ä¿ç•™ï¼š** é‡ç½®åä¿ç•™æ®µä½ï¼Œä»è¯¥æ®µä½æœ€ä½åˆ†èµ·æ­¥
- **å¥–åŠ±ï¼š** å¹´åº¦æ€»å† å†›è·å¾—æ®¿å ‚è£èª‰

---

## å…«ã€æ®µä½ä¿åº•æœºåˆ¶ / Rank Protection

### å¹´åº¦é‡ç½®ä¿åº•åˆ† / Annual Reset Base Points

| æ®µä½ Rank | é‡ç½®åä¿åº•åˆ† Reset Base |
|----------|---------------------|
| æ®¿å ‚ Hall of Fame | 550 points |
| èŒä¸šæ®µ Pro Level | 450 points |
| ç‰¹çº§å¤§å¸ˆ Grand Master | 350 points |
| å¤§å¸ˆ Master | 250 points |
| ç²¾è‹± Elite | 150 points |
| é»„é‡‘ Expert | 80 points |
| é«˜é˜¶ Advance | 40 points |
| è¿›é˜¶ Intermediate | 15 points |
| åˆå­¦ Beginner | 0 points |

**è¯´æ˜ï¼š** å¹´åº¦æ¸…é›¶æ—¶ï¼Œä½ çš„æ®µä½ä¸å˜ï¼Œä½†ç§¯åˆ†é‡ç½®ä¸ºè¯¥æ®µä½çš„æœ€ä½åˆ†ã€‚è¿™æ ·å¯ä»¥ä¿è¯æ®µä½çš„å«é‡‘é‡ï¼ŒåŒæ—¶ç»™æ‰€æœ‰äººå…¬å¹³çš„æ–°èµ›å­£èµ·ç‚¹ã€‚

**Explanation:** During annual reset, your rank level remains the same, but points reset to the minimum for that rank. This ensures rank value while giving everyone a fair start for the new season.

---

## ä¹ã€å‘¨èµ›æµç¨‹ / Weekly Tournament Flow

### èµ›å‰ Before Match

1. **æ³¨å†Œå‚èµ›ï¼š** ç©å®¶åœ¨ç³»ç»Ÿä¸­æŠ¥å
2. **ç³»ç»Ÿåˆ†ç»„ï¼š** æ ¹æ®æ®µä½è‡ªåŠ¨åˆ†ç»„é…å¯¹
3. **è®¡ç®—è®©å±€ï¼š** ç³»ç»Ÿè‡ªåŠ¨è®¡ç®—è®©å±€æ•°

### èµ›ä¸­ During Match

1. **å¯¹å±€è¿›è¡Œï¼š** Race to 5ï¼ˆå…ˆåˆ°5å±€èƒœï¼‰
2. **åº”ç”¨è®©å±€ï¼š** ä½æ®µä½é€‰æ‰‹ä»è®©å±€åˆ†å¼€å§‹
3. **è®°å½•æ¯”åˆ†ï¼š** ç®¡ç†å‘˜å®æ—¶æ›´æ–°æ¯”åˆ†

### èµ›å After Match

1. **å½•å…¥æˆç»©ï¼š** ç®¡ç†å‘˜å½•å…¥æœ€ç»ˆæ’å
2. **è‡ªåŠ¨è®¡åˆ†ï¼š** ç³»ç»Ÿè‡ªåŠ¨è®¡ç®—ç§¯åˆ†
3. **åº”ç”¨ä¿®æ­£ï¼š** æ ¹æ®æ®µä½å·®è°ƒæ•´ç§¯åˆ†
4. **æ›´æ–°æ®µä½ï¼š** ç§¯åˆ†è¾¾æ ‡è‡ªåŠ¨æ™‹å‡
5. **æ›´æ–°æ¦œå•ï¼š** å®æ—¶æ›´æ–°ä¸‰æ¦œï¼ˆå½“å‰/æœˆ/å¹´ï¼‰

---

## åã€ç‰¹æ®Šè§„åˆ™ / Special Rules

### åŒåˆ†å¤„ç† / Tie-breaking

å½“ä¸¤åç©å®¶ç§¯åˆ†ç›¸åŒæ—¶ï¼Œæ’åä¾æ®ï¼š
1. èƒœåœºæ•°ï¼ˆWinsï¼‰
2. èƒœç‡ï¼ˆWin Rateï¼‰
3. å‘¨èµ›å‚ä¸æ¬¡æ•°ï¼ˆWeekly Matchesï¼‰
4. æ³¨å†Œæ—¶é—´ï¼ˆEarlier registrationï¼‰

### ä¿çº§åˆ¶åº¦ / Relegation Protection

- æ–°æ™‹å‡ç©å®¶æœ‰ **2 å‘¨ä¿æŠ¤æœŸ**
- ä¿æŠ¤æœŸå†…ç§¯åˆ†ä¸ä¼šé™çº§
- Newly promoted players have **2 weeks protection**
- No demotion during protection period

---

## åä¸€ã€å®æ–½ç»†èŠ‚ / Implementation

### æ•°æ®åº“è¡¨ / Database Tables

#### 1. users (æ‰©å±•å­—æ®µ)
```
- ranking_points: å½“å‰èµ›å­£ç§¯åˆ†
- ranking_level: å½“å‰æ®µä½
- monthly_points: æœˆæ¦œç§¯åˆ†
- annual_points: å¹´æ¦œç§¯åˆ†
- weekly_matches_played: å‘¨èµ›å‚ä¸æ¬¡æ•°
- last_match_date: æœ€åæ¯”èµ›æ—¥æœŸ
- season_year: èµ›å­£å¹´ä»½
```

#### 2. weekly_tournaments
```
- week_number: å‘¨æ¬¡
- year: å¹´ä»½
- tournament_date: æ¯”èµ›æ—¥æœŸ
- champion_id: å† å†›
- runner_up_id: äºšå†›
- status: çŠ¶æ€
```

#### 3. weekly_participants
```
- weekly_tournament_id: å‘¨èµ›ID
- user_id: ç”¨æˆ·ID
- final_position: æœ€ç»ˆåæ¬¡
- points_earned: è·å¾—ç§¯åˆ†
```

---

## åäºŒã€ç®¡ç†å‘˜åŠŸèƒ½ / Admin Functions

### å‘¨èµ›ç®¡ç† / Weekly Tournament Management

1. **åˆ›å»ºå‘¨èµ›ï¼š** è®¾ç½®å‘¨æ¬¡ã€æ—¥æœŸ
2. **å½•å…¥æˆç»©ï¼š** é€‰æ‹©å† å†›ã€äºšå†›ç­‰
3. **ç¡®è®¤ç»“æœï¼š** è‡ªåŠ¨åˆ†é…ç§¯åˆ†
4. **æŸ¥çœ‹å†å²ï¼š** æ‰€æœ‰å‘¨èµ›è®°å½•

### ç§¯åˆ†è°ƒæ•´ / Points Adjustment

```sql
-- æ‰‹åŠ¨è°ƒæ•´ç§¯åˆ†
UPDATE users 
SET ranking_points = ranking_points + 20 
WHERE email = 'player@example.com';

-- æ‰‹åŠ¨è®¾ç½®æ®µä½
UPDATE users 
SET ranking_level = 'master' 
WHERE email = 'player@example.com';
```

---

## åä¸‰ã€æ’è¡Œæ¦œåŠŸèƒ½ / Leaderboard Features

### âœ… å·²å®ç°åŠŸèƒ½

1. **é¢†å¥–å°å±•ç¤ºï¼š** Top 3 ç©å®¶ç‰¹åˆ«å±•ç¤º
2. **å®Œæ•´æ’è¡Œï¼š** æ‰€æœ‰ç©å®¶æ’å
3. **ä¸‰æ¦œåˆ‡æ¢ï¼š** å½“å‰/æœˆ/å¹´
4. **æ®µä½è¯´æ˜ï¼š** å®Œæ•´æ®µä½ä½“ç³»å±•ç¤º
5. **è§„åˆ™å±•ç¤ºï¼š** ç§¯åˆ†å’Œè®©å±€è§„åˆ™
6. **å®æ—¶æ•°æ®ï¼š** è‡ªåŠ¨æ›´æ–°æ’å

---

## ğŸ¯ å¿«é€Ÿä½¿ç”¨æŒ‡å—

### æŸ¥çœ‹æ’è¡Œæ¦œ

è®¿é—®ï¼šhttp://localhost:3000/leaderboard

### ç®¡ç†å‘¨èµ›ï¼ˆä»…ç®¡ç†å‘˜ï¼‰

è®¿é—®ï¼šhttp://localhost:3000/weekly-tournament

### æŸ¥çœ‹ä¸ªäººæ®µä½

è®¿é—®ï¼šhttp://localhost:3000/profile
æŸ¥çœ‹ä½ çš„æ®µä½å¾½ç« å’Œç§¯åˆ†

---

## ğŸ“Š å½“å‰æ’è¡Œæ¦œ

```
#1 ğŸ‘‘ Max Meng - æ®¿å ‚ Hall of Fame (580åˆ†, èƒœç‡84.9%)
#2 ğŸ’ Michael Chen - èŒä¸šæ®µ Pro Level (475åˆ†, èƒœç‡76.0%)
#3 â­ John Smith - å¤§å¸ˆ Master (280åˆ†, èƒœç‡65.1%)
#4 ğŸ”¶ Sarah Johnson - é»„é‡‘ Expert (95åˆ†, èƒœç‡45.5%)
#5 ğŸ”¸ Emma Wilson - è¿›é˜¶ Intermediate (22åˆ†, èƒœç‡40.0%)
```

---

## ğŸ‰ ç³»ç»Ÿå®Œæˆï¼

```
âœ… 9çº§æ®µä½ç³»ç»Ÿ
âœ… è‡ªåŠ¨æ®µä½è®¡ç®—
âœ… å‘¨èµ›ç§¯åˆ†ç®¡ç†
âœ… æœˆæ¦œ + å¹´æ¦œ
âœ… è®©å±€è§„åˆ™
âœ… ç§¯åˆ†ä¿®æ­£æœºåˆ¶
âœ… å¹´åº¦æ¸…é›¶ä¿åº•åˆ†
âœ… æ’è¡Œæ¦œé¡µé¢
âœ… å‘¨èµ›ç®¡ç†é¡µé¢
âœ… ä¸­è‹±æ–‡å¯¹ç…§

çŠ¶æ€ï¼šğŸŸ¢ å®Œå…¨å°±ç»ªï¼
```

---

**Heyball æ®µä½èµ›ç³»ç»Ÿå·²ä¸Šçº¿ï¼** ğŸ†âœ¨

*å¼€å§‹ä½ çš„æ®µä½ä¹‹æ—…å§ï¼*

