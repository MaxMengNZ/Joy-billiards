# ⚡ 立即执行 - 5秒修复

**状态：** 🔴 紧急  
**时间：** 5 秒

---

## 🎯 做这个（5秒）

### 1️⃣ 打开 Supabase SQL Editor
https://app.supabase.com/project/qnwtqgdbgyqwpsdqvxfl/sql/new

### 2️⃣ 复制粘贴这段代码并运行

```sql
-- 创建视图让旧代码能工作
DROP TABLE IF EXISTS point_history CASCADE;

CREATE OR REPLACE VIEW point_history AS
SELECT * FROM ranking_point_history;

GRANT SELECT ON point_history TO anon, authenticated;
```

### 3️⃣ 刷新浏览器
按 `F5` 或 `Cmd+R`

---

## ✅ 完成！

**错误应该立即消失！**

这个视图让所有引用旧表名的代码（包括数据库函数）都能正常工作。

---

## 📝 原理

```
旧代码查询：SELECT * FROM point_history
            ↓
视图重定向：point_history → ranking_point_history
            ↓
实际查询：  SELECT * FROM ranking_point_history
            ↓
返回数据：  ✅ 正常工作
```

---

## 🎯 执行后测试

1. 刷新 http://localhost:3000
2. 打开管理员面板
3. 应该不再报错！✅

---

**立即执行上面的 SQL！** 🚀


